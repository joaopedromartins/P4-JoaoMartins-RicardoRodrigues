<ui:composition template="../paginas/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

 	<link rel="stylesheet" type="text/css" href="../css/template.css" /> 
	
	<ui:define name="conteudo">
		<center>
			<h:outputText styleClass="txtconteudo"
				value="Nesta pagina podes criar, editar e apagar as tuas playlists." />
			<BR />
			<h:outputText styleClass="txtconteudo"
				value="#{userSession.username}, seleciona nos botões em baixo a operação pretendida." />
			<BR />
			<h:form>
				<h:selectOneRadio id="radioplaylistop" styleClass="txtconteudo"
					value="#{playlistinterface.operacao}">
					<f:selectItem itemValue="criar" itemLabel="Criar" />
					<f:selectItem itemValue="editar" itemLabel="Editar" />
					<!--  <f:selectItem itemValue="apagar" itemLabel="Apagar" /> -->
					<f:ajax event="change" execute="radioplaylistop"
						render="formplaylist:playlistop" />
				</h:selectOneRadio>

			</h:form>

			<div id="container" class="ui-grid ui-grid-responsive">
				<div class="ui-grid-row ">
					<div class="ui-grid-col-1" />
					<div class="ui-grid-col-10">
						<p:panel id="playlist" header="Editar playlist."
							footer="#{playlistinterface.msgerro}" >
						<br />
						<img src="../imagens/jukebox.png" />
						<h:form  id="formplaylist">
							<h:panelGroup id="playlistop"
								style="display:block; text-align:centre">
								<f:ajax render="formplaylist:playlistop">
									<h:outputText value="#{userSession.username}, prencha os campos em baixo para criar uma playlist."
											styleClass="txtconteudo"
											rendered="#{playlistinterface.typecriar()}" />
											
									<h:panelGrid columns="4" cellpadding="10">
										<h:outputText value="Nome playlist:"  
											rendered="#{playlistinterface.typecriar()}" />
										<h:inputText id="playlistname" title="Nome playlist"
											value="#{playlistinterface.playlistname}" required="true"
											requiredMessage="Preencha o nome da playlist" maxlength="32" 
											rendered="#{playlistinterface.typecriar()}" />
										<h:message for="playlistname" errorClass="errorMessage" 
											rendered="#{playlistinterface.typecriar()}" />
										<h:commandButton type="submit" value="criar"
											styleClass="btn" action="#{playlistinterface.criaplaylist}" 
											rendered="#{playlistinterface.typecriar()}" />
									</h:panelGrid>
											
									<h:panelGrid columns="4" cellpadding="10" rendered="#{playlistinterface.typeeditar()}" >		
										<h:outputText value="Nome playlist:" />
										<h:outputText value="#{playlistinterface.playlistname}" />
										<h:message for="delplaylistname" errorClass="errorMessage" />
										<h:commandButton type="submit" value="Apagar playlist"
											styleClass="btn" action="#{playlistinterface.apagaplaylist}" />	
										<h:outputText value="Não existem playlists. Em cima seleccionar criar playlist." 
											rendered="#{empty playlistinterface.listaplaylistnames}"/>	
									</h:panelGrid>
									
									<h:panelGrid columns="4" cellpadding="10" rendered="#{playlistinterface.typeeditar()}" >	
										<h:panelGroup id="listaplaylist">
											<h:outputText value="1. Selecione a"/>
											<br />
											<h:outputText value="Playlist"/>
											<br />
											<p:panel class="max_height_col1">
												<h:panelGrid columns="1" styleClass="painel-interior">
													<h:dataTable value="#{playlistinterface.listaplaylistnames}" var="item">
														<h:column>
															<h:commandButton styleClass="btn-historico"
																actionListener="#{playlistinterface.selectplaylist}" value="#{item}" >
																<f:attribute name="selectedline" value="#{item}" />
															</h:commandButton>
														</h:column>
													</h:dataTable>	
												</h:panelGrid>	
											</p:panel>		
										</h:panelGroup>	
										
										<h:panelGroup id="listamusicasplaylist" rendered="#{!empty playlistinterface.playlistname}">
											<h:outputText value="2. Seleccione a Musica"/>
											<br />
											<h:outputText value="da Playlist"/>
											<br />
											<p:panel class="max_height_col1">
												<h:panelGrid columns="1" styleClass="painel-interior">
													<h:dataTable value="#{playlistinterface.listaplaylistmusics}" var="musicentry">
														<h:column>
															<h:commandLink actionListener="#{playlistinterface.selectmusic}" value="#{musicentry.title}," >
																<f:attribute name="selectedmusicline" value="#{musicentry}" />
															</h:commandLink>
														</h:column>
														<h:column>
															<h:outputText value="#{musicentry.author}"/>
														</h:column>
													</h:dataTable>	
												</h:panelGrid>	
											</p:panel>		
										</h:panelGroup>	
										
										<h:panelGroup id="musicaselecionada" rendered="#{!empty playlistinterface.playlistname}">
											<h:outputText value="3. Adicionar/Remover a Musica"/>
												<br />
												<h:outputText value="da Playlist"/>
												<br />
											<h:panelGrid columns="2" styleClass="painel-interior">
												<h:outputText value="Titulo: "/>
												<h:outputText value="#{musicentry.title}"/>
												<h:outputText value="Autor: "/>
												<h:outputText value="#{musicentry.author}"/>
												<h:outputText value="Album: "/>
												<h:outputText value="#{musicentry.album}"/>
												<h:outputText value="Genero: "/>
												<h:outputText value="#{musicentry.genre}"/>
												<h:outputText value="Duração: "/>
												<h:outputText value="#{musicentry.duration}"/>
												<h:outputText value="Ano de lançamento: "/>
												<h:outputText value="#{musicentry.year}"/>
											</h:panelGrid>
											<h:panelGrid columns="2" styleClass="painel-interior">
												<h:commandButton type="submit" value="Remover"
												styleClass="btn" action="#{playlistinterface.delmusicfromplaylist}" />	
												<h:panelGrid columns="1" styleClass="painel-interior">
													<h:commandButton type="submit" value="Mover para cima"
													styleClass="btn" action="#{playlistinterface.moveupmusicfromplaylist}" />	
													<h:commandButton type="submit" value="Mover para baixo"
													styleClass="btn" action="#{playlistinterface.movedownmusicfromplaylist}" />	
												</h:panelGrid>
											</h:panelGrid>
										</h:panelGroup>
										
									</h:panelGrid>
								</f:ajax>
							</h:panelGroup>	
							<br />
							<br />
							<h:commandButton type="submit" value="Voltar ao Player" styleClass="btn"
								action="jukebox" />
							<h:commandButton type="submit" value="Adicionar/Apagar Musicas" styleClass="btn"
								action="music" />
							<br />	
						</h:form>
						</p:panel>
						
					</div>
					<div class="ui-grid-col-1" />
				</div>
			</div>
		</center>


	</ui:define>
</ui:composition>
