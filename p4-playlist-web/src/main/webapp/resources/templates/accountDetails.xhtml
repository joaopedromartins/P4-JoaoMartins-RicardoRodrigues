<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet library="css" name="musicList.css" />
</h:head>


<h:body>
	<ui:composition>
					
		<h:panelGroup id="accountDetails" styleClass="accountSection">
			<h2>Account Details</h2>
				<h:form>
			
					<div class="accountDetailsMain">
					<span class="accountLabel">Username: </span>
					<span class="accountValue">#{userSession.username}</span>
					<span class="accountEdit"><a href="" id="usernameEditor">edit</a></span>
					</div>
					<div class="accountDetailsForm" id="usernameDetailsForm">
						
							<span class="accountUpdateFields">
							<p:inputText value="#{usersinterface.username}" placeholder="username" 
							validator="usernameValidator" styleClass="accountUpdateFields"/>
							</span>
							<span class="accountUpdateFields">
							<p:password value="#{usersinterface.password}" placeholder="password" styleClass="accountUpdateFields" />
							</span>
							<span class="accountUpdateFields">
							<h:commandButton action="#{usersinterface.updateUsername()}" styleClass="accountUpdateFields" value="submit" update="growl" />					
							</span>
						
					</div>
				</h:form>
				
				<div>
					<div class="accountDetailsMain">
					<span class="accountLabel">Email: </span>
					<span class="accountValue">#{userSession.email}</span>
					<span class="accountEdit"><a href="" id="emailEditor">edit</a></span>
					</div>
					<div class="accountDetailsForm" id="emailDetailsForm">
						<h:form>
							<span class="accountUpdateFields">
								<p:inputText value="#{usersinterface.email}" placeholder="email" styleClass="accountUpdateFields" validator="emailValidator" />
							</span>
							<span class="accountUpdateFields">
								<p:password value="#{usersinterface.password}" placeholder="password" styleClass="accountUpdateFields" />
							</span>
							<span class="accountUpdateFields">
								<h:commandButton action="#{usersinterface.updateEmail()}" styleClass="accountUpdateFields" value="submit" update="growl" />
							</span>
						</h:form>
					</div>
				</div>
				
				<div>
					<div class="accountDetailsMain">
					<span class="accountLabel">Password: </span>
					<span class="accountValue">****</span>
					<span class="accountEdit"><a href="" id="passwordEditor">edit</a></span>
					</div>
					<div class="accountDetailsForm" id="passwordDetailsForm">
						<h:form>
							<span class="accountUpdateFields">
							<p:password value="#{usersinterface.password}" placeholder="new password" />
							</span>
							<span class="accountUpdateFields">
							<p:password value="#{usersinterface.cpassword}" styleClass="accountUpdateFields" placeholder="confirm password" />
							</span>
							<span class="accountUpdateFields">
							<p:password value="#{usersinterface.oldPassword}" styleClass="accountUpdateFields" placeholder="old password" />
							</span>
							<span class="accountUpdateFields">
							<h:commandButton action="#{usersinterface.updatePassword()}" styleClass="accountUpdateFields" value="submit" update="growl" />
							</span>
						</h:form>
					</div>
				</div>
				
				<div>
				<h:form>
					<div class="accountDetailsMain"><a href="" id="closeAccountEditor">close account</a></div>
					<div class="accountDetailsForm" id="closeAccountForm">
					<span class="accountUpdateFields"><p:password placeholder="password" value="#{usersinterface.password}" /></span>
					<span class="accountUpdateFields"><h:commandButton value="Close account" action="#{usersinterface.delete()}" /></span>
					</div>
				</h:form>
				</div>
			</h:panelGroup>

	</ui:composition>
</h:body>

</html>